<!--index.wxml-->
<import src="../../temp/loading.wxml" />
<import src="../../temp/showerror.wxml" />
<import src="../../temp/itemcell.wxml" />
<import src="../../temp/cats.wxml" />

<view class="wrapper bgcolor-base"></view>

<navtitle id="c-bar" title="" isshare="{{isshare}}" isActive="{{isActive}}" isGoback="{{isGoback}}" showLoad="{{showLoad}}"/>

<view class="container bgcolor-base page">
  <view class="index" style="padding-bottom:calc(96rpx + env(safe-area-inset-bottom));padding-top: {{customBarHeight}}px;">
    <view class="menubarwrap {{isshowCnt?'show':'hide'}}">
      <view class="menubarhead">
        <view class="tit">
          <text>{{categorytitle}}</text>
        </view>
      </view>
    </view>
    <view class="index_article itemarea {{isshowCnt?'show':'hide'}}" wx:if="{{posts.length>0}}">
      <template is="posts" data="{{posts,customBarHeight,windowWidth}}" />
    </view>

    <view class="last_text" wx:if="{{isLastPage&&posts.length>0}}">已经到底啦~</view>
    <view class="last_text" wx:if="{{!isLastPage&&posts.length>0}}">
      <block wx:if="{{lasttip==true}}">
						<icon class="icon iconfont icon-loading turn" />
						<text class="text">加载更多内容中...</text>
					</block>
					<block wx:else>
						<icon class="icon iconfont icon-error" />
						<text class="text">出错啦！无法连接数据</text>
					</block>
    </view>
  </view>

  <template is="showerror" data="{{isshowError:isshowError}}"></template>

</view>

<template is="loading" data="{{isshowLoad:isshowLoad}}"></template>